<?php
/**
 * Generated by Haxe 4.0.0-rc.3+e3df7a4
 */

namespace tink\json;

use \php\Boot;
use \tink\core\Annex;
use \tink\json\_Writer\StringWriter;
use \haxe\format\JsonPrinter;

class BasicWriter {
	/**
	 * @var \StringBuf
	 */
	public $buf;
	/**
	 * @var Annex
	 */
	public $plugins;

	/**
	 * @return void
	 */
	public function __construct () {
		#/home/grabli66/haxelib/tink_json/git/src/tink/json/Writer.hx:17: characters 5-35
		$this->plugins = new Annex($this);
	}

	/**
	 * @param int $c
	 * 
	 * @return void
	 */
	public function char ($c) {
		#/home/grabli66/haxelib/tink_json/git/src/tink/json/Writer.hx:27: characters 5-19
		$_this = $this->buf;
		$_this->b = ($_this->b??'null') . (mb_chr($c)??'null');
	}

	/**
	 * @return void
	 */
	public function init () {
		#/home/grabli66/haxelib/tink_json/git/src/tink/json/Writer.hx:20: characters 5-26
		$this->buf = new \StringBuf();
	}

	/**
	 * @param string $s
	 * 
	 * @return void
	 */
	public function output ($s) {
		#/home/grabli66/haxelib/tink_json/git/src/tink/json/Writer.hx:24: characters 5-15
		$this->buf->add($s);
	}

	/**
	 * @param bool $b
	 * 
	 * @return void
	 */
	public function writeBool ($b) {
		#/home/grabli66/haxelib/tink_json/git/src/tink/json/Writer.hx:36: characters 5-39
		$this->buf->add(($b ? "true" : "false"));
	}

	/**
	 * @param mixed $value
	 * 
	 * @return void
	 */
	public function writeDynamic ($value) {
		#/home/grabli66/haxelib/tink_json/git/src/tink/json/Writer.hx:42: characters 5-43
		$s = JsonPrinter::print($value);
		$this->buf->add($s);
	}

	/**
	 * @param float $v
	 * 
	 * @return void
	 */
	public function writeFloat ($v) {
		#/home/grabli66/haxelib/tink_json/git/src/tink/json/Writer.hx:33: characters 5-26
		$s = \Std::string($v);
		$this->buf->add($s);
	}

	/**
	 * @param int $v
	 * 
	 * @return void
	 */
	public function writeInt ($v) {
		#/home/grabli66/haxelib/tink_json/git/src/tink/json/Writer.hx:30: characters 5-26
		$s = \Std::string($v);
		$this->buf->add($s);
	}

	/**
	 * @param string $s
	 * 
	 * @return void
	 */
	public function writeString ($s) {
		#/home/grabli66/haxelib/tink_json/git/src/tink/json/Writer.hx:39: characters 5-38
		$s1 = StringWriter::stringify($s);
		$this->buf->add($s1);
	}

	/**
	 * @param Value $value
	 * 
	 * @return void
	 */
	public function writeValue ($value) {
		#/home/grabli66/haxelib/tink_json/git/src/tink/json/Writer.hx:44: lines 44-80
		$_gthis = $this;
		#/home/grabli66/haxelib/tink_json/git/src/tink/json/Writer.hx:45: lines 45-80
		$__hx__switch = ($value->index);
		if ($__hx__switch === 0) {
			#/home/grabli66/haxelib/tink_json/git/src/tink/json/Writer.hx:46: characters 24-37
			$s = \Std::string($value->params[0]);
			$this->buf->add($s);
		} else if ($__hx__switch === 1) {
			#/home/grabli66/haxelib/tink_json/git/src/tink/json/Writer.hx:47: characters 24-38
			$s1 = StringWriter::stringify($value->params[0]);
			$this->buf->add($s1);
		} else if ($__hx__switch === 2) {
			#/home/grabli66/haxelib/tink_json/git/src/tink/json/Writer.hx:48: characters 19-33
			$this->buf->add("null");
		} else if ($__hx__switch === 3) {
			#/home/grabli66/haxelib/tink_json/git/src/tink/json/Writer.hx:49: characters 22-56
			$this->buf->add(($value->params[0] ? "true" : "false"));
		} else if ($__hx__switch === 4) {
			#/home/grabli66/haxelib/tink_json/git/src/tink/json/Writer.hx:51: characters 19-20
			$_g4 = $value->params[0];
			if ($_g4->length === 0) {
				#/home/grabli66/haxelib/tink_json/git/src/tink/json/Writer.hx:50: characters 24-36
				$this->buf->add("[]");
			} else {
				#/home/grabli66/haxelib/tink_json/git/src/tink/json/Writer.hx:53: characters 9-23
				$_this = $this->buf;
				$_this->b = ($_this->b??'null') . (mb_chr(91)??'null');

				#/home/grabli66/haxelib/tink_json/git/src/tink/json/Writer.hx:54: characters 9-25
				$this->writeValue(($_g4->arr[0] ?? null));
				#/home/grabli66/haxelib/tink_json/git/src/tink/json/Writer.hx:56: lines 56-59
				$_g = 1;
				$_g1 = $_g4->length;
				while ($_g < $_g1) {
					#/home/grabli66/haxelib/tink_json/git/src/tink/json/Writer.hx:57: characters 11-25
					$_this1 = $this->buf;
					$_this1->b = ($_this1->b??'null') . (mb_chr(44)??'null');

					#/home/grabli66/haxelib/tink_json/git/src/tink/json/Writer.hx:58: characters 11-27
					$this->writeValue(($_g4->arr[$_g++] ?? null));
				}

				#/home/grabli66/haxelib/tink_json/git/src/tink/json/Writer.hx:60: characters 9-23
				$_this2 = $this->buf;
				$_this2->b = ($_this2->b??'null') . (mb_chr(93)??'null');

			}
		} else if ($__hx__switch === 5) {
			#/home/grabli66/haxelib/tink_json/git/src/tink/json/Writer.hx:63: characters 20-21
			$_g11 = $value->params[0];
			if ($_g11->length === 0) {
				#/home/grabli66/haxelib/tink_json/git/src/tink/json/Writer.hx:62: characters 25-37
				$this->buf->add("{}");
			} else {
				#/home/grabli66/haxelib/tink_json/git/src/tink/json/Writer.hx:65: characters 9-23
				$_this3 = $this->buf;
				$_this3->b = ($_this3->b??'null') . (mb_chr(123)??'null');

				#/home/grabli66/haxelib/tink_json/git/src/tink/json/Writer.hx:72: characters 9-20
				$p = ($_g11->arr[0] ?? null);
				$s2 = StringWriter::stringify($p->name);
				$_gthis->buf->add($s2);

				$_this4 = $_gthis->buf;
				$_this4->b = ($_this4->b??'null') . (mb_chr(58)??'null');

				$_gthis->writeValue($p->value);

				#/home/grabli66/haxelib/tink_json/git/src/tink/json/Writer.hx:73: lines 73-76
				$_g2 = 1;
				$_g12 = $_g11->length;
				while ($_g2 < $_g12) {
					#/home/grabli66/haxelib/tink_json/git/src/tink/json/Writer.hx:74: characters 11-25
					$_this5 = $this->buf;
					$_this5->b = ($_this5->b??'null') . (mb_chr(44)??'null');

					#/home/grabli66/haxelib/tink_json/git/src/tink/json/Writer.hx:75: characters 11-22
					$p1 = ($_g11->arr[$_g2++] ?? null);
					$s3 = StringWriter::stringify($p1->name);
					$_gthis->buf->add($s3);

					$_this6 = $_gthis->buf;
					$_this6->b = ($_this6->b??'null') . (mb_chr(58)??'null');

					$_gthis->writeValue($p1->value);

				}

				#/home/grabli66/haxelib/tink_json/git/src/tink/json/Writer.hx:78: characters 9-23
				$_this7 = $this->buf;
				$_this7->b = ($_this7->b??'null') . (mb_chr(125)??'null');

			}
		}
	}
}

Boot::registerClass(BasicWriter::class, 'tink.json.BasicWriter');
